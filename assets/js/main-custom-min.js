!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";jQuery(document).ready((function(e){var o=window.location.protocol+"//"+window.location.host+"/r-mural/";function t(){e((function(){e("select").selectric({optionsItemBuilder:function(e,o,t){return o.val().length?'<span class="wrap">'+e.text:e.text+"</span>"}})}))}function n(){if(null!==document.querySelector(".slick")){((e,o,t=!0,n=!0)=>new Promise((a,s)=>{let i=document.createElement("script");const l=o||document.getElementsByTagName("script")[0];function r(e,o){(o||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=null,i.onreadystatechange=null,i=void 0,o?s():a())}i.async=t,i.defer=n,i.onload=r,i.onreadystatechange=r,i.src=e,l.parentNode.insertBefore(i,l)}))(o+"wp-content/themes/r-mural/assets/slick/slick/slick.min.js").then(()=>{console.log("script loaded"),s()},()=>{console.log("fail to load script")})}}function a(){new HqyLazyload({loadInvisible:!0})}function s(){if(null!==document.querySelector(".page-stories")){e(".video-body .slide").hover((function(o){e("video",this).get(0).play()}),(function(o){var t=e("video",this);setTimeout((function(){t.get(0).pause()}),100)}));e(".stories-slick .play").on("click",(function(){e(this).parent().parent().siblings("video").get(0).play(),e(this).parent().parent(".info").addClass("playing"),e(this).parent().parent().siblings("video").attr("controls",!0)})),e(".fullscreen").on("click",(function(){var o=e(this).parent().parent().siblings("video")[0];console.log(o),o.requestFullScreen?o.requestFullScreen():o.webkitRequestFullScreen?o.webkitRequestFullScreen():o.mozRequestFullScreen&&o.mozRequestFullScreen()})),e(".stories-slick video").bind("play seeking pause",(function(){e(this).siblings(".info").addClass("playing"),e(this).attr("controls",!0)})),e(".stories-slick video").bind("ended",(function(){e(this).siblings(".info").removeClass("playing"),e(this).removeAttr("controls",!0)})),e(".stories-slick").slick({dots:!1,infinite:!0,speed:500,slidesToShow:1,adaptiveHeight:!0,autoplay:!1,fade:!0,cssEase:"linear"}),e(".stories-slick").on("init beforeChange",(function(o,t,n,a){var s=a;console.log(s),e(".video-body .slide").removeClass("active"),e('.video-body .slide[data-slide="'+s+'"]').addClass("active"),document.querySelectorAll("video").forEach(e=>e.pause())})),e("div[data-slide]").on("click",(function(o){var t=new gsap.timeline,n=e(".stories-slick").height();t.to(".slick-wrap",.15,{height:n,ease:"power3.inOut"});var a=e(this).data("slide");e(".stories-slick").slick("slickGoTo",a)})),e(".stories-slick .close").on("click",(function(e){(new gsap.timeline).to(".slick-wrap",.15,{height:0,ease:"power3.inOut"}),document.querySelectorAll("video").forEach(e=>e.pause())}))}}t(),n(),a();var i,l=new gsap.timeline({paused:!0});function r(){e('[data-rel="lightcase"]').length>0&&jQuery.getScript(o+"wp-content/themes/r-mural/assets/lightcase/src/js/lightcase.js",(function(){e("a.lightcase-video").lightcase({video:{width:1600,height:900,poster:"",preload:"auto",controls:!0,autobuffer:!0,autoplay:!0,loop:!1}}),e(".lightcase").lightcase()}),!0)}function c(){jQuery('a[href*="#"]').each((function(o,t){e(t).attr("data-no-swup","")})),jQuery('a[href*="#"]').not('[href="#"]').not('[href="#0"]').click((function(o){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=e(this.hash);(t=t.length?t:e("[name="+this.hash.slice(1)+"]")).length&&(o.preventDefault(),e("html, body").animate({scrollTop:t.offset().top},1e3,(function(){var o=e(t);if(o.focus(),o.is(":focus"))return!1;o.attr("tabindex","-1"),o.focus()})))}}))}function u(){e(".trigger").waypoint((function(){e(this.element).addClass("animate")}),{offset:"65%"})}function d(){e("header a, footer .nav-item, header .menu-item").removeClass("active");var o=window.location.href.split("/");console.log(o);var t=o[0]+"//"+o[2]+"/"+o[3]+"/"+o[4]+"/";console.log(t),console.log(o[4]),e('header a[href*="'+t+'"]').parent().addClass("active"),e('footer a[href*="'+t+'"]').parent().addClass("active"),e('header .dropdown-menu a[href*="'+o[4]+'"]').addClass("active"),""==o[4]&&(console.log("this should fire active on home li"),e("a[title='Home']").parent().addClass("active"))}function p(e){new HqyLazyload;t(),n(),c(),d(),u(),r(),s(),resourcesLoad(),a()}l.from("#main-menu li",{x:"+=75",ease:"back.out(3)",stagger:{amount:.35,ease:"back.out(3)",grid:"auto"}}),e(".menu.navbar-toggler").on("click",(function(){e(this).hasClass("open")?(e(this).removeClass("open"),e("#main-menu").removeClass("open"),l.reverse(0)):(e(this).addClass("open"),e("#main-menu").addClass("open"),l.play())})),r(),resourcesLoad(),c(),i=e(".start-header"),e(window).scroll((function(){e(window).scrollTop()>=50?(i.removeClass("start-header").addClass("scroll-header"),null!==document.querySelector(".home")&&e("#homeTopBanner").addClass("out"),e("#main-nav").removeClass("active"),e("#main-menu").removeClass("show")):(i.removeClass("scroll-header").addClass("start-header"),null!==document.querySelector(".home")&&e("#homeTopBanner").removeClass("out"))})),u(),d();const m=[{linkSelector:'a[href^="'+window.location.origin+'"]:not([data-no-swup]), a[href^="/"]:not([data-no-swup]), a[href^="#"]:not([data-no-swup])',from:"(.*)",to:"(.*)",in:function(e){var o=new gsap.timeline({onComplete:e});document.querySelector("#swup").style.opacity=0,o.fromTo(document.querySelector("#swup"),1,{opacity:0,y:30},{opacity:1,y:0,ease:Expo.easeOut},0)},out:e=>{new gsap.timeline({onComplete:e}).fromTo(document.querySelector("#swup"),1,{opacity:1,y:0},{opacity:0,y:30,ease:Expo.easeOut},0)}}],h=new Swup({plugins:[new SwupJsPlugin(m),new SwupFormsPlugin({formSelector:"form[data-swup-form]"}),new SwupBodyClassPlugin,new SwupScriptsPlugin({head:!1}),new SwupScrollPlugin({doScrollingRightAway:!1,animateScroll:!1})]});document.addEventListener("swup:contentReplaced",o=>{p(),h.cache.remove("/"),null!==document.querySelector(".slick")&&e(".slick").slick("unslick").slick("reinit"),e("#main-nav").removeClass("active"),e("#main-menu").removeClass("show"),e("#homeTopBanner").removeClass("drop"),p(),e(".menu.navbar-toggler").removeClass("open collapsed"),null!==document.querySelector(".home")?e("#homeTopBanner").removeClass("out"):e("#homeTopBanner").addClass("out")})}))}));